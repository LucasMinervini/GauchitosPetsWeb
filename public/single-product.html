<!DOCTYPE html>
<html lang="es">
<head>
    <title>Los Gauchitos Pets</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="author" content="">
    <meta name="keywords" content="">
    <meta name="description" content="">
  
    <link rel="stylesheet" href="css/swiper.css" />
    <link rel="stylesheet" href="css/bootstrap.css" />
    <link rel="stylesheet" type="text/css" href="css/vendor.css">
    <link rel="stylesheet" type="text/css" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Chilanka&family=Montserrat:wght@300;400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
  
    <style>
        .product-details {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .product-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .product-price h3 {
            font-size: 1.5rem;
            color: #E53935; /* Color del precio */
            margin-bottom: 20px;
        }

        .product-options label {
            font-weight: bold;
            margin-top: 10px;
        }

        .product-options select, 
        .product-options input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
        }

        .btn-lg {
            background-color: #E53935;
            border: none;
            color: white;
            text-transform: uppercase;
        }

        .shipping-calculator label {
            font-weight: bold;
        }

        .shipping-calculator input {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
        }

        .shipping-calculator button {
            width: 100%;
            background-color: #757575;
            border: none;
            color: white;
        }

        ul.list-unstyled {
            padding-left: 0;
            line-height: 1.6;
        }

        ul.list-unstyled li {
            font-size: 1rem;
            margin-bottom: 10px;
        }

        ul.list-unstyled li strong {
            font-weight: bold;
        }

        #product-description {
            font-size: 1rem;
            line-height: 1.6;
        }

        .product-gallery {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .product-gallery img {
            width: 100px;
            height: 100px;
            object-fit: cover;
            cursor: pointer;
        }

        .product-gallery img:hover {
            opacity: 0.8;
        }

        /* Estilo para el modal de la imagen ampliada */
        .modal {
            display: none;
            position: fixed;
            z-index: 1;
            padding-top: 100px;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0, 0, 0);
            background-color: rgba(0, 0, 0, 0.9);
        }

        .modal-content {
            margin: auto;
            display: block;
            width: 80%;
            max-width: 700px;
        }

        .modal-content:hover {
            cursor: zoom-out;
        }

        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #fff;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }

        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <header>
        <div class="container py-2">
            <div class="row py-4 pb-0 pb-sm-4 align-items-center">
                <div class="col-sm-4 col-lg-3 text-center text-sm-start">
                    <div class="main-logo">
                        <a href="index.html">
                            <img src="images/logo.png" alt="logo" class="img-fluid" style="width: 50%;">
                        </a>
                    </div>
                </div>
    
                <div class="col-sm-6 offset-sm-2 offset-md-0 col-lg-5 d-none d-lg-block">
                    <div class="search-bar border rounded-2 px-3 border-dark-subtle position-relative">
                        <input type="text" id="product-search" class="form-control border-0 bg-transparent" placeholder="Buscar productos..." autocomplete="off" />
                        <div id="suggestions" class="list-group position-absolute w-100"></div>
                    </div>
                </div>
    
                <div class="col-sm-8 col-lg-4 d-flex justify-content-between gap-5 align-items-center mt-4 mt-sm-0">
                    <!-- Liniers -->
                    <div class="support-box text-center d-none d-xl-block">
                        <span class="fs-6 secondary-font text-muted d-block">Liniers</span>
                        <div class="d-flex justify-content-center align-items-center mb-2">
                            <a href="https://wa.me/541125257949?text=Hola!%20necesito%20ayuda!" target="_blank" class="d-flex align-items-center">
                                <img width="30" height="30" src="https://img.icons8.com/3d-fluency/94/whatsapp.png" alt="whatsapp" class="me-2" />
                                <h5 class="mb-0" style="font-size: medium;">+54112525-7949</h5>
                            </a>
                        </div>
                        <div class="d-flex justify-content-center align-items-center">
                            <a href="https://www.google.com/maps?q=Av.+Lisandro+de+la+Torre+402,+Liniers,+Argentina" target="_blank">
                                <iconify-icon icon="mdi:map-marker" class="fs-4 me-2"></iconify-icon>
                                <span class="fs-6 secondary-font text-muted">Av. Lisandro de la Torre 402</span>
                            </a>
                        </div>
                    </div>
                    <!-- La Plata -->
                    <div class="support-box text-center d-none d-xl-block">
                        <span class="fs-6 secondary-font text-muted d-block">La Plata</span>
                        <div class="d-flex justify-content-center align-items-center mb-2">
                            <a href="https://wa.me/541131170104?text=Hola!%20Necesito%20ayuda!" target="_blank" class="d-flex align-items-center">
                                <img width="30" height="30" src="https://img.icons8.com/3d-fluency/94/whatsapp.png" alt="whatsapp" class="me-2" />
                                <h5 class="mb-0" style="font-size: medium;">+54113117-0104</h5>
                            </a>
                        </div>
                        <div class="d-flex justify-content-center align-items-center">
                            <a href="https://www.google.com/maps/place/Los+Gauchitos+Pet%E2%80%99s/@-34.9091854,-57.954907,17z/data=!3m1!4b1!4m6!3m5!1s0x95a2e73ddd405e6b:0xec268d597b04b465!8m2!3d-34.9091898!4d-57.9523321!16s%2Fg%2F11sc2jsy_7?entry=ttu" target="_blank">
                                <iconify-icon icon="mdi:map-marker" class="fs-4 me-2"></iconify-icon>
                                <span class="fs-6 secondary-font text-muted">Calle 5 e/44 y 45 n°628, La Plata</span>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    
        <div class="container-fluid">
            <hr class="m-0">
        </div>
    
        <div class="container">
            <nav class="main-menu d-flex navbar navbar-expand-lg align-items-center">
                <!-- Ubicaciones alineadas a la izquierda -->
                <div class="d-flex align-items-center gap-3 flex-shrink-0" style="margin-right: auto;">
                    <div class="location-box d-flex align-items-center">
                        <div id="user-info"></div>
                    </div>
                    <div class="location-box d-flex align-items-center">
                        <span class="fs-6 secondary-font text-muted"></span>
                    </div>
                </div>
    
                <!-- Menú desplegable y navegación centrada -->
                <ul class="navbar-nav menu-list list-unstyled d-flex justify-content-center gap-md-3 mb-0" style="margin-left: auto; margin-right: auto;">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link active" style="font-size: x-large;">Inicio</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="perrosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: x-large;">Perros</a>
                        <ul class="dropdown-menu" aria-labelledby="perrosDropdown">
                            <li><a class="dropdown-item" href="alimentos-perros.html">Alimentos</a></li>
                            <li><a class="dropdown-item" href="juguetes-perros.html">Juguetes</a></li>
                            <li><a class="dropdown-item" href="accesorios-perros.html">Accesorios</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="gatosDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: x-large;">Gatos</a>
                        <ul class="dropdown-menu" aria-labelledby="gatosDropdown">
                            <li><a class="dropdown-item" href="alimentos-gatos.html">Alimentos</a></li>
                            <li><a class="dropdown-item" href="juguetes-gatos.html">Juguetes</a></li>
                            <li><a class="dropdown-item" href="accesorios-gatos.html">Accesorios</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="otrosAnimalesDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: x-large;">Otros Animales</a>
                        <ul class="dropdown-menu" aria-labelledby="otrosAnimalesDropdown">
                            <li><a class="dropdown-item" href="roedores.html">Roedores</a></li>
                            <li><a class="dropdown-item" href="peces.html">Peces</a></li>
                            <li><a class="dropdown-item" href="reptiles.html">Reptiles</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="farmaciaDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false" style="font-size: x-large;">Farmacia</a>
                        <ul class="dropdown-menu" aria-labelledby="farmaciaDropdown">
                            <li><a class="dropdown-item" href="medicamentos.html">Medicamentos</a></li>
                            <li><a class="dropdown-item" href="suplementos.html">Suplementos</a></li>
                        </ul>
                    </li>
                </ul>
    
                <!-- Íconos de cuenta, wishlist, carrito alineados a la derecha -->
                <div class="d-flex align-items-end flex-shrink-0">
                    <ul class="d-flex justify-content-end list-unstyled m-0">
                        <li>
                            <a href="login.html" class="mx-3">
                                <iconify-icon icon="healthicons:person" class="fs-4"></iconify-icon>
                            </a>
                        </li>
                        <li>
                            <a href="wishlist.html" class="mx-3">
                                <iconify-icon icon="mdi:heart" class="fs-4"></iconify-icon>
                            </a>
                        </li>
                        <li>
                            <a href="#" class="mx-3" data-bs-toggle="offcanvas" data-bs-target="#offcanvasCart" aria-controls="offcanvasCart">
                                <iconify-icon icon="mdi:cart" class="fs-4 position-relative"></iconify-icon>
                                <span id="cart-badge" class="position-absolute translate-middle badge rounded-circle bg-primary pt-2">0</span>
                            </a>
                        </li>
                    </ul>
                </div>                
            </nav>
        </div>
    </header>

    <div id="alert-container" class="alert-container" style="position: fixed; top: 20px; right: 20px; z-index: 1050;"></div>

    <!-- Carrito offcanvas -->
    <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasCart" aria-labelledby="offcanvasCartLabel">
        <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="offcanvasCartLabel">Carrito de Compras</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul id="cart-items" class="list-group"></ul>
            <div class="mt-4">
                <h6>Total: <span id="cart-total">$0.00</span></h6>
            </div>
            <a href="datosDeCompra.html" class="btn btn-primary mt-3">Iniciar La Compra</a>
        </div>
    </div>

<div class="container my-5">
  <div class="row">
      <div class="col-md-6">
          <img id="product-image" src="" alt="Product Image" class="img-fluid mb-3" />
          
          <div id="product-gallery" class="product-gallery"></div>
      </div>
      
      <div class="col-md-6">
          <div class="product-details">
              <h1 id="product-name" class="product-title"></h1>
              <div class="product-price">
                  <h3 id="product-price"></h3>
              </div>
              
              <div class="product-options">
                <label for="product-presentation-alimentos">Presentaciones:</label>
                <select id="product-presentation-alimentos" class="form-control">
                    <option value="15kg">15 KG</option>
                    <option value="7kg">7 KG</option>
                    <option value="3kg">3 KG</option>
                </select>
                  
                  <label for="product-quantity" class="mt-3">Cantidad</label>
                  <input type="number" id="product-quantity" class="form-control" value="1" min="1" />
              </div>
              
              <div id="product-actions"></div>
              
              <div class="shipping-calculator mt-4">
                  <label for="postal-code">Medios de envío</label>
                  <input type="text" id="postal-code" class="form-control" placeholder="Tu código postal" />
                  <button class="btn btn-secondary mt-2">CALCULAR</button>
              </div>
          </div>
      </div>
  </div>
  
  <div class="row mt-5">
    <div class="col-md-6">
        <h3>Ficha Técnica</h3>

        <!-- Ficha Técnica para Alimentos -->
<ul id="ficha-alimentos" class="list-unstyled" style="display: none;">
    <li><strong>Edad:</strong> <span id="product-age-alimentos">Cachorro</span></li>
    <li><strong>Marca:</strong> <span id="product-brand-alimentos">Natural Meat</span></li>
    <li><strong>Tamaño de la Mascota:</strong> <span id="pet-size-alimentos">Todos los tamaños</span></li>
    <li><strong>Alimento Medicado:</strong> <span id="medicated-food-alimentos">No</span></li>
    <li><strong>Presentaciones:</strong> <span id="product-presentation-alimentos">15 Kg</span></li>
    <li><strong>Sabor:</strong> <span id="product-flavor-alimentos">Carne y Frutas</span></li>
</ul>

<!-- Ficha Técnica para Ropa -->
<ul id="ficha-ropa" class="list-unstyled" style="display: none;">
    <li><strong>Marca:</strong> <span id="product-brand-ropa">Nike</span></li>
    <li><strong>Material:</strong> <span id="product-material-ropa">Algodón</span></li>
    <li><strong>Tamaño:</strong> <span id="product-size-ropa">M</span></li>
</ul>

<!-- Ficha Técnica para Accesorios -->
<ul id="ficha-accesorios" class="list-unstyled" style="display: none;">
    <li><strong>Marca:</strong> <span id="product-brand-accesorios"></span></li>
    <li><strong>Dimensiones:</strong> <span id="product-dimensions-accesorios"></span></li>
</ul>
    </div>
    
    <div class="col-md-6">
        <h3>Descripción</h3>
        <p id="product-description">Aquí va la descripción detallada del producto.</p>
    </div>
</div>

<div id="myModal" class="modal">
    <span class="close">&times;</span>
    <img class="modal-content" id="img01">
</div>

<footer id="footer" class="my-5" style="background-color: wheat;"> 
    <div class="container py-5 my-5">
      <div class="row">
        <div class="col-md-3">
          <div class="footer-menu">
            <img src="images/logo.png" alt="logo" style="width:50%">
            <p class="blog-paragraph fs-6 mt-3">De Lunes a Viernes 10hs-20:30hs.
              Sábados de 10hs-16:30hs.
            </p>
            <div class="social-links">
              <ul class="d-flex list-unstyled gap-2">
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon" icon="ri:facebook-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon" icon="ri:twitter-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon" icon="ri:pinterest-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon" icon="ri:instagram-fill"></iconify-icon>
                  </a>
                </li>
                <li class="social">
                  <a href="#">
                    <iconify-icon class="social-icon" icon="ri:youtube-fill"></iconify-icon>
                  </a>
                </li>

              </ul>
            </div>
          </div>
        </div>
        <div class="col-md-3">
          <div class="footer-menu">
            <h3>Enlaces Rápidos</h3>
            <ul class="menu-list list-unstyled">
              <li class="menu-item">
                <a href="#" class="nav-link">Inicio</a>
              </li>
              <li class="menu-item">
                <a href="#" class="nav-link">Servicios</a>
              </li>
              <li class="menu-item">
                <a href="#" class="nav-link">Contacto </a>
              </li>
            </ul>
          </div>
        </div>
        <div class="col-md-3">
          <div class="footer-menu">
            <h3>Ayuda central</h5>
              <ul class="menu-list list-unstyled">
                <li class="menu-item">
                  <a href="#" class="nav-link">Preguntas Frecuentes</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="nav-link">Métodos de pago</a>
                </li>
                <li class="menu-item">
                  <a href="checkout.html" class="nav-link">Checkout</a>
                </li>
                <li class="menu-item">
                  <a href="#" class="nav-link"></a>
                </li>
              </ul>
          </div>
        </div>
        <div class="col-md-3">
          <div>
            <h3>Newsletter</h3>
            <p class="blog-paragraph fs-6">Puede suscribirse para mantenerse al tanto con las ofertas.</p>
            <div class="search-bar border rounded-pill border-dark-subtle px-2">
              <form class="text-center d-flex align-items-center" action="" method="">
                <input type="text" class="form-control border-0 bg-transparent" placeholder="Ingresá tu email" />
                <iconify-icon class="send-icon" icon="tabler:location-filled"></iconify-icon>
              </form>
            </div>
          </div>
        </div>

      </div>
    </div>
  </footer>
  <!-- Mantener solo una instancia de cada script, y cargar los scripts en el orden correcto -->
<script src="js/jquery-1.11.0.min.js"></script>
<script src="js/swiper.js"></script>
<script src="js/bootstrap.bundle.js"></script>
<script src="js/iconify.js"></script>
<script src="js/cart.js"></script> 
<script src="js/custom.js"></script>
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

<script>
    
    // Esta función actualiza el Carrito
    function updateCartUI() {
        const cartItemsElement = document.getElementById('cart-items');
        const cartTotalElement = document.getElementById('cart-total');
        const cartBadgeElement = document.getElementById('cart-badge');

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        cartItemsElement.innerHTML = '';
        let total = 0;
        let itemCount = 0;

        cart.forEach((item, index) => {
            itemCount += item.quantity;
            const li = document.createElement('li');
            li.className = 'list-group-item d-flex justify-content-between align-items-center';
            li.innerHTML = `
                <div class="d-flex align-items-center">
                    <button class="btn btn-sm btn-outline-secondary btn-decrease" data-index="${index}">-</button>
                    <span class="mx-2">${item.name} x${item.quantity}</span>
                    <button class="btn btn-sm btn-outline-secondary btn-increase" data-index="${index}">+</button>
                </div>
                <span>$${(item.price * item.quantity).toFixed(2)}</span>
            `;
            cartItemsElement.appendChild(li);
            total += item.price * item.quantity;
        });

        cartBadgeElement.textContent = itemCount;
        cartTotalElement.textContent = `$${total.toFixed(2)}`;
        localStorage.setItem('cart', JSON.stringify(cart));
    }
    updateCartUI();

    function addToCart(productId, productName, productPrice) {
        const quantityInput = document.getElementById('product-quantity');
        const quantity = parseInt(quantityInput.value); // Obtener la cantidad ingresada por el cliente
    
        const cartItem = {
            id: productId,
            name: productName,
            price: parseFloat(productPrice),
            quantity: quantity // Usar la cantidad seleccionada
        };
    
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        const existingItem = cart.find(item => item.id === productId);
    
        if (existingItem) {
            existingItem.quantity += quantity; // Si el producto ya existe, aumentar la cantidad seleccionada
        } else {
            cart.push(cartItem); // Agregar un nuevo producto al carrito
        }
    
        localStorage.setItem('cart', JSON.stringify(cart));
        updateCartUI();
        showAlert(`${productName} ha sido agregado al carrito.`);
    }

    document.addEventListener('DOMContentLoaded', function() {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        
        document.addEventListener('click', function(event) {
            if (event.target.matches('.btn-decrease')) {
                const index = event.target.getAttribute('data-index');
                decreaseQuantity(index);
            }
        
            if (event.target.matches('.btn-increase')) {
                const index = event.target.getAttribute('data-index');
                increaseQuantity(index);
            }
        });
    
        function decreaseQuantity(index) {
            // Asegurarse de que el carrito existe y tiene el índice correcto
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart[index] && cart[index].quantity > 1) {
                cart[index].quantity -= 1;
            } else if (cart[index]) {
                cart.splice(index, 1); // Elimina el producto si la cantidad llega a 0
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
        }
    
        function increaseQuantity(index) {
            // Asegurarse de que el carrito existe y tiene el índice correcto
            cart = JSON.parse(localStorage.getItem('cart')) || [];
            if (cart[index]) {
                cart[index].quantity += 1;
            }
            localStorage.setItem('cart', JSON.stringify(cart));
            updateCartUI();
        }
    });
    
    

    function showAlert(message) {
        // Asegúrate de que el contenedor de alertas existe
        const alertContainer = document.getElementById('alert-container');
        
        if (!alertContainer) {
            console.error('Contenedor de alertas no encontrado');
            return;
        }
    
        // Crear el elemento de la alerta
        const alert = document.createElement('div');
        alert.className = 'alert alert-success alert-dismissible fade show';
        alert.role = 'alert';
        alert.innerHTML = `
            ${message}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        `;
        
        // Agregar la alerta al contenedor
        alertContainer.appendChild(alert);
        
        // Eliminar la alerta después de 3 segundos
        setTimeout(() => {
            alert.classList.remove('show');
            alert.addEventListener('transitionend', () => alert.remove());
        }, 3000);
    }
    

    // Función para cargar el producto individual
    document.addEventListener('DOMContentLoaded', function () {
        const urlParams = new URLSearchParams(window.location.search);
        const productId = urlParams.get('id');

        if (productId) {
            const productApiUrl = `http://localhost:8080/api/products/details/${productId}`;
            const fichaTecnicaApiUrl = `http://localhost:8080/api/products/fichaTecnica/${productId}`;

            loadSingleProduct(productApiUrl);
            loadFichaTecnica(fichaTecnicaApiUrl);
        } else {
            document.getElementById('product-name').textContent = 'Producto no encontrado';
        }
    });

    function loadSingleProduct(apiUrl) {
        fetch(apiUrl)
            .then(response => {
                if (!response.ok) throw new Error('Error al obtener el producto');
                return response.json();
            })
            .then(product => {
                if (!product || !product.name) {
                    document.getElementById('product-name').textContent = 'Producto no encontrado';
                    document.getElementById('product-price').textContent = 'Precio no disponible';
                    document.getElementById('product-description').textContent = 'Descripción no disponible';
                    return;
                }

                // Mostrar los detalles del producto
                document.getElementById('product-name').textContent = product.name;
                document.getElementById('product-price').textContent = product.retail_price
                    ? `$${parseFloat(product.retail_price).toFixed(2)}`
                    : 'Precio no disponible';
                document.getElementById('product-description').textContent = product.description || 'Descripción no disponible';

                // Mostrar imágenes
                const imageUrls = product.image_url.split(',');
                document.getElementById('product-image').src = imageUrls[0] || 'default-image.png';

                const gallery = document.getElementById('product-gallery');
                gallery.innerHTML = '';
                imageUrls.forEach(url => {
                    const imgElement = document.createElement('img');
                    imgElement.src = url.trim();
                    imgElement.alt = product.name;
                    imgElement.addEventListener('click', () => changeMainImage(url));
                    gallery.appendChild(imgElement);
                });

                // Crear botón de "Agregar al carrito"
                document.getElementById('product-actions').innerHTML = `
                    <button class="btn btn-primary btn-add-to-cart mt-3" 
                        data-product-id="${product.id}" 
                        data-product-name="${product.name}" 
                        data-product-price="${product.retail_price}">
                        Agregar al carrito
                    </button>
                `;

                // Asignar evento al botón
                document.querySelector('.btn-add-to-cart').addEventListener('click', function () {
                    addToCart(product.id, product.name, product.retail_price);
                });
            })
            .catch(error => {
                console.error('Error al obtener el producto:', error);
                document.getElementById('product-name').textContent = 'Error al cargar el producto';
            });
    }

    function loadFichaTecnica(apiUrl) {
        fetch(apiUrl)
            .then(response => {
                if (!response.ok) throw new Error('Error al obtener la ficha técnica');
                return response.json();
            })
            .then(details => {
                if (details.category === 'alimentos') {
                    document.getElementById('ficha-alimentos').style.display = 'block';
                    document.getElementById('product-age-alimentos').textContent = details.age || 'No disponible';
                    document.getElementById('product-brand-alimentos').textContent = details.brand || 'No disponible';
                    document.getElementById('pet-size-alimentos').textContent = details.pet_size || 'No disponible';
                    document.getElementById('medicated-food-alimentos').textContent = details.medicated_food ? 'Sí' : 'No';
                    
                    // Actualizar select de presentaciones
                    const presentationSelect = document.getElementById('product-presentation-alimentos');
                    presentationSelect.innerHTML = ''; // Limpiar las opciones actuales
                    if (details.presentations && details.presentations.length > 0) {
                        details.presentations.forEach(presentation => {
                            const option = document.createElement('option');
                            option.value = presentation;
                            option.textContent = presentation;
                            presentationSelect.appendChild(option);
                        });
                    } else {
                        presentationSelect.innerHTML = '<option>No disponible</option>';
                    }
                }
            })
            .catch(error => {
                console.error('Error al obtener la ficha técnica:', error.message);
            });
    }
    

    // Cambiar imagen principal al hacer clic en las miniaturas
    function changeMainImage(src) {
        document.getElementById('product-image').src = src;
    }
</script>





  

</body>
</html>
